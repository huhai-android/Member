webpackJsonp([137],{"2MvK":function(e,t,n){"use strict";function a(e){n("t+kN")}Object.defineProperty(t,"__esModule",{value:!0});var i=n("3cXf"),r=n.n(i),s=n("pKZN"),o=n("84iU"),d=n.n(o),c=(s.a,{components:{back:s.a},data:function(){return{list:[],relation:[],patient:{PatientId:0},user:this.$store.state.userInfo}},created:function(){this.pull()},methods:{pull:function(){var e=this;d.a.all([this.$get("PlatFormAPI/PatientAccount/QueryPatientVisitByAccountId",{AccountId:this.user.User.AccountId}),this.$get("PlatFormAPI/Category/QueryItemByCategoryId",{CategoryId:16})]).then(function(t){e.list=t[0],t[0].forEach(function(t){1==t.DefaultPatient&&(e.patient=t)}),e.relation=t[1],e.$store.state.patient&&(e.patient=e.$store.state.patient)})},choose:function(e){var t=this;if(this.$route.query.reserve)return e.PatientName&&e.PatientSex&&e.Age?(this.$post("/SecondDiagnosisAPI/MedicalRecord/SaveMedicalUnitRecord",{PatientId:e.PatientId,PatientName:e.PatientName,MedicalUnitId:this.$route.query.mid,MedicalUnitName:this.$route.query.mname}).then(function(e){t.$store.dispatch("pushsecDeterPay",e),t.$router.push({path:"/deterPay",query:{mname:t.$route.query.mname,way:1}})}),!1):this.$toast("就诊人信息不完善");this.$route.query.toChoose&&(this.patient=e,this.$store.dispatch("pushPatient",e),this.$store.dispatch("pushIsFresh",!0),this.$router.back()),this.$route.query.ChooseFor&&(this.$bridge.callhandler("choosePatient",r()(e)),this.$bridge.callhandler("Back")),this.$route.query.ChooseFor2&&this.$bridge.callhandler("choosePatient",r()(e))},editPatient:function(e){this.$router.push({path:"/Patient-add",query:{edit:"true",PatientId:e.PatientId}})}}}),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pdt"},[n("div",{ref:"el",staticClass:"title"},[n("back"),e._v(" "),n("span",{staticClass:"name"},[e._v("就诊人管理")]),e._v(" "),n("a")],1),e._v(" "),e._l(e.list,function(t,a){return n("div",{key:a,staticClass:"card"},[n("div",{on:{click:function(n){return e.choose(t)}}},[n("p",[e.$route.query.toChoose||e.$route.query.ChooseFor||e.$route.query.ChooseFor2?n("label",{class:{on:t.PatientId==e.patient.PatientId}}):e._e(),e._v(" "),n("span",[e._v(e._s("未知"==t.PatientName?"":t.PatientName))]),e._v(" "),n("span",[e._v(e._s(e._f("toSex")(t.PatientSex)))]),e._v(" "),n("span",[e._v(e._s(t.Age))]),e._v(" "),n("span",[e._v(e._s(e._f("Category")(t.PatientType,e.relation)))])]),e._v(" "),t.DefaultPatient?n("span",{staticClass:"default"},[e._v("默认")]):e._e()]),e._v(" "),n("p",{staticClass:"phone",on:{click:function(n){return e.choose(t)}}},[e.$route.query.toChoose||e.$route.query.ChooseFor||e.$route.query.ChooseFor2?n("i",{staticClass:"plhd"}):e._e(),e._v(" "),n("span",[e._v(e._s(t.Mobile.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2")))]),e._v(" "),n("span",[e._v(e._s(t.CredNo?t.CredNo.substr(0,4)+"**********"+t.CredNo.substr(14):""))])]),e._v(" "),n("p",{staticClass:"edit",on:{click:function(n){return e.editPatient(t)}}},[1!=t.Newborn||t.Age?n("span"):n("span",{staticClass:"tips"},[e._v("\n                资料不全，请补齐\n            ")]),e._v(" "),e._m(0,!0)])])}),e._v(" "),n("span",{staticClass:"btn",on:{click:function(t){return e.$router.push("/Patient-add")}}},[e._v("添加就诊人")])],2)},u=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("i"),e._v("编辑\n            ")])}],p={render:l,staticRenderFns:u},h=p,b=n("C7Lr"),f=a,v=b(c,h,!1,f,"data-v-12dac06d",null);t.default=v.exports},I0df:function(e,t,n){var a=n("L4zZ");t=e.exports=n("UTlt")(!1),t.push([e.i,"\n.card[data-v-12dac06d] {\n  background: #fff;\n  margin: 0.26667rem;\n  padding: 0.26667rem;\n  border-radius: 20px;\n}\n.card div[data-v-12dac06d] {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n            justify-content: space-between;\n}\n.card label[data-v-12dac06d] {\n    display: block;\n    width: 0.6rem;\n    height: 0.6rem;\n    background: url("+a(n("1ST3"))+") no-repeat center;\n    background-size: contain;\n}\n.card .on[data-v-12dac06d] {\n    background: url("+a(n("uE3D"))+") no-repeat center;\n    background-size: contain;\n    border-radius: 0;\n}\n.card p[data-v-12dac06d] {\n    height: 0.73333rem;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n}\n.card p span[data-v-12dac06d] {\n      margin: 0 0.4rem;\n}\n.card p .plhd[data-v-12dac06d] {\n      display: block;\n      width: 0.6rem;\n      height: 0.6rem;\n}\n.card .default[data-v-12dac06d] {\n    border: 1px solid #ffa417;\n    color: #ffa417;\n    border-radius: 5px;\n    padding: 0 0.06667rem;\n}\n.card .edit[data-v-12dac06d] {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n            justify-content: space-between;\n    border-top: 1px solid #ececec;\n    height: 1.17333rem;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n    color: #999;\n}\n.card .edit span[data-v-12dac06d] {\n      display: -webkit-box;\n      display: -webkit-flex;\n      display: flex;\n      -webkit-box-align: center;\n      -webkit-align-items: center;\n              align-items: center;\n}\n.card .edit .tips[data-v-12dac06d] {\n      color: #ffa417;\n}\n.card .edit i[data-v-12dac06d] {\n      display: block;\n      width: 0.53333rem;\n      height: 0.53333rem;\n      margin-right: 0.26667rem;\n      background: url("+a(n("9aHa"))+") no-repeat center;\n      background-size: contain;\n}\n.card .phone[data-v-12dac06d] {\n    color: #999;\n    padding: 0.4rem 0 0.66667rem 0;\n}\n.btn[data-v-12dac06d] {\n  background: #2f68ca;\n  color: #fff;\n  height: 1.17333rem;\n  border-radius: 20px;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n  width: 80%;\n  margin: 1.33333rem auto;\n  font-size: 16px;\n}\n",""])},"t+kN":function(e,t,n){var a=n("I0df");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("FIqI")("a334ee5c",a,!0,{})}});