webpackJsonp([37],{"91Sy":function(e,t,n){"use strict";function a(e){n("AAlB")}Object.defineProperty(t,"__esModule",{value:!0});var i=n("pKZN"),o=n("8pLc"),r=(i.a,o.a,{components:{back:i.a,noData:o.a},data:function(){return{tab:["可用兑换券","不可用兑换券"],tabIdx:0,haveMore:!0,list:[],page:1,choose:null,toChoose:this.$route.query.choose,user:this.$store.state.userInfo,pageShow:!1}},created:function(){this.pull(!1)},mounted:function(){this.getMore()},beforeDestroy:function(){window.onscroll=null},methods:{tabChange:function(e){this.page=1,this.tabIdx=e,this.list=[],this.pull(!1)},chooseOn:function(e){this.toChoose&&1!=this.tabIdx&&(this.choose=e,this.$store.dispatch("pushCoupons",e),this.$router.replace("/payFor"))},pull:function(e){var t=this;this.$route.query.choose?this.$post("PlatFormAPI/CouponRecord/QueryCouponRecordPage",{PatientId:this.$route.query.patient,ServiceItemId:this.$route.query.ServiceItemId||-1,DrId:this.$route.query.DrId||-1,OrgId:-1,UseStatus:this.tabIdx+1,PageIndex:this.page,PageSize:15}).then(function(n){t.pageShow=!0,!n.ReturnData||n.ReturnData.length<15?t.haveMore=!1:t.haveMore=!0,e?n.ReturnData.forEach(function(e){t.list.push(e)}):(t.list=n.ReturnData,t.$store.state.Coupons&&(t.choose=t.$store.state.Coupons))}):this.$post("PlatFormAPI/CouponRecord/AccountCouponRecordPage",{AccountId:this.user.User.AccountId,ServiceItemId:this.$route.query.ServiceItemId||-1,DrId:this.$route.query.DrId||-1,OrgId:-1,UseStatus:this.tabIdx+1,PageIndex:this.page,PageSize:15}).then(function(n){!n.ReturnData||n.ReturnData.length<15?t.haveMore=!1:t.haveMore=!0,e?n.ReturnData.forEach(function(e){t.list.push(e)}):(t.list=n.ReturnData,t.$store.state.Coupons&&(t.choose=t.$store.state.Coupons))})},getMore:function(){var e=this,t=this.$refs.el,n=null;window.onscroll=function(){clearTimeout(n),n=setTimeout(function(){var n=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;t.scrollHeight-n-window.innerHeight<100&&e.haveMore&&(e.page+=1,e.pull(!0))},100)}}}}),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"el",staticClass:"cont"},[n("div",{staticClass:"title"},[n("back"),e._v(" "),n("span",{staticClass:"name"},[e._v("兑换券")]),e._v(" "),n("a")],1),e._v(" "),n("div",{staticClass:"tab"},e._l(e.tab,function(t,a){return n("span",{key:a,class:{on:e.tabIdx===a},on:{click:function(t){return e.tabChange(a)}}},[e._v(e._s(t))])}),0),e._v(" "),n("p",{staticClass:"tip"},[e._v("温馨提示：本平台赠送的所有兑换券每张仅限使用一次。")]),e._v(" "),!e.list&&e.pageShow?n("no-data",{attrs:{txt:"暂无兑换券"}}):e._e(),e._v(" "),e._l(e.list,function(t,a){return n("div",{key:a,staticClass:"card",class:{disable:1===e.tabIdx}},[n("div",{staticClass:"info"},[n("p",[e._v(e._s(t.CouponName))]),e._v(" "),n("p",[e._v("使用对象："+e._s(t.DrName))])]),e._v(" "),n("p",{staticClass:"date"},[n("span",[n("i"),e._v("有效日期："+e._s(t.EndTime))]),e._v(" "),0===t.CouponStatus&&1==e.tabIdx?n("span",{staticClass:"gray"},[e._v("过期")]):e._e(),e._v(" "),1===t.CouponStatus&&1==e.tabIdx?n("span",{staticClass:"gray"},[e._v("已使用")]):e._e(),e._v(" "),2===t.CouponStatus&&1==e.tabIdx?n("span",{staticClass:"gray"},[e._v("无效")]):e._e(),e._v(" "),e.toChoose?n("label",{class:{on:e.choose===t},on:{click:function(n){return e.chooseOn(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.choose,expression:"choose"}],attrs:{type:"radio"},domProps:{value:t,checked:e._q(e.choose,t)},on:{change:function(n){e.choose=t}}})]):e._e()])])})],2)},c=[],l={render:s,staticRenderFns:c},d=l,b=n("C7Lr"),u=a,p=b(r,d,!1,u,"data-v-0b7680aa",null);t.default=p.exports},AAlB:function(e,t,n){var a=n("kCTy");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("FIqI")("41302c6c",a,!0,{})},Sb3L:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAZCAYAAAA14t7uAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkRDQkM1ODI0QTZBMDExRTg4RjhCRkEyQ0RFNzNDRTk3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkRDQkM1ODI1QTZBMDExRTg4RjhCRkEyQ0RFNzNDRTk3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RENCQzU4MjJBNkEwMTFFODhGOEJGQTJDREU3M0NFOTciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RENCQzU4MjNBNkEwMTFFODhGOEJGQTJDREU3M0NFOTciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6mkSExAAACKElEQVR42uyUy0sbURTG752ZvHxEDZpFXWmsYiGW1kXFR6Abxa4UceXSTVduBBH9E8RF1K3ivgWl2xak+EBRsVUQBB+LUhGVqAmtKMmM3xlO2hCTmSS49MJvzty593zzzWXOkcJm9ExGggiT4D3NFUUs67oYWRz2bVnlyRxEV4BXVYWBzTKeMJduQSfEV7LlKjaGwyTqcUvxqlaTjQFNFHtMLx4wjxereTnmhI9gxubFY2ACzuO2whCtQvgMQvxoAyyBXzQpLZZvVUX2X8d0L68vgz6IX2QVhqgLYRU0g30wiIT19JcvHt0OXUT08OrOvbiOGfRoG7Rh7122Mx5j0R+gNZOoaSDgmaryKZ8+hFzCV2ZKNHPuY8dw60Y4o68FbyC6a3W4cF2NcHIV1R1flu6EYYgo5v6k61THraAMrNmJsuvfCN8qvIrw+0wZOvP2TEdRz3FT5D6O6FJZ/k/mZSZhN8doHsJmuTgcjzRsC6Tg8Sz8ZMKapTCKw4lQl48iCoSKqyXtcR1rCYmbAOJXUMOLP7mkLccLv9JR5Ja1dB+5MYCe+m930afMpYjSeM1YjtNzPdsSGZ0l4Q7wFwwUcsgNNdq7ar8ympx/37rXEwkR0rgRXYE9bkBWQ03f43KKP07H/+6rqRLChkbCx4DO6rAQx7sHcZO0P+WYLt1gCJRY5Pdy90r2kgWLvTEwLXNxhT+H2miQp3toq01PVSDj4JIZzyXhQYABADuHmsOVjXVdAAAAAElFTkSuQmCC"},cSy5:function(e,t){e.exports="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAZCAYAAAA14t7uAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAhdJREFUeNrslctLAlEUxu84Y5rkY2FtArXnrrJaJL2gTdEyolXLNq1ahtQ/IESLHtuifUF/QEGLSooKrKRV1iKCICEZrQhS+44cYZh0RqVlB36euffO/e7n9Z6rJEwiEol0Ia2CMWpbLJbjXC63GA6HL43mSRWIngAXBPMSIpvN0tAnGIf4Sbm5FhPDayRqs9lEIBCQ/H6/sNvt1F8PdrCwXJVjnjAPNk0WXgIrcP5tKgzRRqQ9MMpd5+AIPFHD4XD0YVtmMpmMi8ePwTTEX8sKQ9SGdAr6wR2Yw4Qz/eKxWGwhlUqtxeNxgQWo6woM4d2vcnu8xKIxMFhKlCIYDK57PJ7dUCgkXK6C8X6e+9sx3NKv8gKcoBeiN0abC9fNSI/pdNoajUZFPp9X0W4qutY6HgRuEDUTZdfPSIdOp1PAPXWR9eFSW9HJ+UJUHgn6cLvdxXZHKWE7Z7UK4UK1KIqi1zAtkJrjX/jPhBVDYRRHHVJ7NYooECqukK67nbWEhIc25APQwoPXXNKG4fV6R3CdttIzqk+oqqo92xP0VbY1ohQ9jGEkk8lyQ2R0i4RHwAeYrWWTfT7fANyHNVuEf67cqMIX0Ru45QvIKGT9O1ar9V1TeUKWZRIu9DwA2qv7WhwnEokCupPyQB+TYAE0GMyf4tureJfsG7ybBhtSJa5wcuga7eLmLa7V7r8qkGU6CMxyJRN+BBgAkGmeqpuCYyIAAAAASUVORK5CYII="},kCTy:function(e,t,n){var a=n("L4zZ");t=e.exports=n("UTlt")(!1),t.push([e.i,"\n.cont[data-v-0b7680aa] {\n  padding-top: 2.4rem;\n}\n.tab[data-v-0b7680aa] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  height: 1.2rem;\n  background: #fff;\n  -webkit-justify-content: space-around;\n          justify-content: space-around;\n  border-top: 1px solid #ececec;\n  position: fixed;\n  top: 1.2rem;\n  left: 0;\n  right: 0;\n}\n.tab span[data-v-0b7680aa] {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n            justify-content: center;\n    width: 2.66667rem;\n    border-bottom: 3px solid #fff;\n}\n.tab .on[data-v-0b7680aa] {\n    color: #3069cf;\n    border-bottom: 3px solid #3069cf;\n}\n.tip[data-v-0b7680aa] {\n  color: #999;\n  height: 1.2rem;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n  font-size: 12px;\n}\n.card[data-v-0b7680aa] {\n  height: 3.73333rem;\n  background: #fff;\n  margin: 0.26667rem 0.4rem;\n  border-radius: 20px;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n}\n.card .info[data-v-0b7680aa] {\n    background: #1b6fe1;\n    color: #fff;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: column;\n            flex-direction: column;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n            justify-content: center;\n    height: 2.66667rem;\n    border-radius: 20px 20px 0 0;\n    line-height: 1.5;\n}\n.card .info p[data-v-0b7680aa]:first-child {\n      font-size: 20px;\n}\n.card .date[data-v-0b7680aa] {\n    height: 1.06667rem;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n            justify-content: space-between;\n    padding: 0 0.4rem;\n    font-size: 12px;\n    color: #999;\n}\n.card .date span[data-v-0b7680aa] {\n      display: -webkit-box;\n      display: -webkit-flex;\n      display: flex;\n      -webkit-box-align: center;\n      -webkit-align-items: center;\n              align-items: center;\n}\n.card .date i[data-v-0b7680aa] {\n      display: block;\n      width: 0.4rem;\n      height: 0.4rem;\n      margin-right: 0.13333rem;\n      background: url("+a(n("Sb3L"))+") no-repeat center;\n      background-size: contain;\n}\n.card label[data-v-0b7680aa] {\n    display: block;\n    width: 0.53333rem;\n    height: 0.53333rem;\n    background: url("+a(n("z/K+"))+") no-repeat center;\n    background-size: contain;\n    margin-right: 0.13333rem;\n}\n.card .on[data-v-0b7680aa] {\n    background: url("+a(n("Mcyx"))+") no-repeat center;\n    background-size: contain;\n}\n.disable .info[data-v-0b7680aa] {\n  background: #9f9f9f;\n}\n.disable .date i[data-v-0b7680aa] {\n  background: url("+a(n("cSy5"))+") no-repeat center;\n  background-size: contain;\n}\n.disable .date .gray[data-v-0b7680aa] {\n  color: #fff;\n  background: #9f9f9f;\n  padding: 0.06667rem 0.2rem;\n  border-radius: 10px;\n}\n",""])}});