webpackJsonp([48],{"5iH3":function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAeCAYAAADQBxWhAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjYxNDEzREUzQTY5RTExRTg5QzcxRDY3QTY0REMxQjYyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjYxNDEzREU0QTY5RTExRTg5QzcxRDY3QTY0REMxQjYyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjE0MTNERTFBNjlFMTFFODlDNzFENjdBNjREQzFCNjIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjE0MTNERTJBNjlFMTFFODlDNzFENjdBNjREQzFCNjIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4aAjtEAAACkElEQVR42sSWTUhUURTHnzahQYikoCBU6zZORpgfoBC46ktoGVZUhBUxi6BFQgUqRiCIC1dBtio3JYIuIggVYRbqRBADSZmrqEVajZaD2e/AeXB5vjvzZt6LDvw5992v/7nn3HPuK3GQePficdQDcMQJJ39AEtxKjRyes00qgbAd/QqUOtHJJmiGeN5vMAb6lHBVLAQLYLtIsjh4CKrBfXDCRtqo7W4sexryhCk8l0GPgWO2SXLCXdqejsi108aBHNtJXVnXS9WAuhlg8wE8k/bp/wG+KvKSurIfnA9A+hjsIMWQdQw/SHOrENIVMBqA9LM1sBDnWhjzWSC394LzD6XU+Q8SC7OY2NWjhvTzHV66Zpm3G/UM7AOfQp0Ukjeon6BN8pzNT1mm3gCdOu95FO6VDTe0PQTxHs8pa1D39HMSQ1+EJmWTZS15IpIqtz1T+kEF+KUG7owplrWienPwXIZoydM3CLrAISFlj1HmfEQf5fuizumTPttFqlbf22Svz2mzEFylOQPK1c2n0cPykoH3+hBYb2/acFfgogDxLESPaF4CJ8ET4zG5zvjvXMUhbQS+UJF4ngFV4Jz2jbHny8jyVO9AJSrh8VSL8b3GHPcQaXk+YxGkjJDezTF+xWiPg0hI5b9ozdNXoRdo08hhkUwk7sVdK3pa0+WSuwfACOOJSGuvEtSKyzzdtarPMh43+mcxoqeY4uBKgg1Smpe2vK5TuLJabHEwL5D7mzPuGesAUoM/gLdGf9JLWhawOLiyrDH9ornpF9MJW0y39I+wWZ6dkMUh8COeVMJhLJTrLX/l2TzrshiXCfO7ckdzTQI+BcRd3/JAqkxT0aRY/FoDP1/Auqwmvk2+a8HY8Bv8K8AA9PHT7Y+dtUcAAAAASUVORK5CYII="},TeMb:function(e,n,t){"use strict";function i(e){t("sgeh")}Object.defineProperty(n,"__esModule",{value:!0});var o=t("3cXf"),a=t.n(o),r=t("pKZN"),s=(r.a,{components:{back:r.a},data:function(){return{payType:[{name:"微信支付",val:1},{name:"支付宝支付",val:2}],type:1,info:this.$store.state.PayInfo,o:null,Coupons:this.$store.state.Coupons}},watch:{type:function(e){this.$bridge.callhandler("payType",e)}},created:function(){this.$bridge.callhandler("payType",1);this.$route.query.code;this.$route.query.fromCoop?this.o={Price:this.info.ConsultPrice}:this.prepare_pay()},beforeDestroy:function(){this.$store.dispatch("pushCoupons",null)},methods:{getCoupons:function(){if(!this.o||!this.o.CouponCount||0==this.o.CouponCount)return!1;this.$router.push("/coupons?choose=1&ServiceItemId="+this.o.ServiceItemId+"&DrId="+(this.info.DoctorId||this.info.DrId)+"&patient="+this.info.PatientId)},prepare_pay:function(){var e=this;this.$post("PlatFormAPI/ServicePackItem/PrepareServiceItem",{PatientId:this.info.PatientId,DrId:this.info.DoctorId||this.info.DrId,OrgId:this.info.OrgId||0,SericeItemCode:this.$store.state.Code,RelationId:this.info.Id}).then(function(n){e.o=n,e.$store.dispatch("pushImInfo",n)})},pay:function(){var e=this;this.$store.dispatch("pushcontent",null),this.$post("PlatFormAPI/ServicePackItem/BuyServiceItem",{PatientId:this.info.PatientId,PatientName:this.info.PatientName,DrId:this.info.DoctorId||this.info.DrId,DrName:this.info.DoctorName||this.info.DrName,ServiceItemId:this.o.ServiceItemId,RelationId:this.o.RelationId,CouponRecordId:this.Coupons?this.Coupons.CouponRecordId:0,PayChannel:this.type,PayType:1,ServiceContent:"",Application:0,RecommendId:0,RecommendName:"",APPId:0}).then(function(n){if(n.Body||n.appid){e.$store.dispatch("pushCoupons",null);var t=a()(n);e.$bridge.callhandler("pay",t,function(n){"success"==n?e.$router.replace("/pay-success?price="+(e.Coupons?"0":e.o.Price)+"&payType="+e.type+"&fromOrder="+e.$route.query.fromOrder):"fail"==n&&(e.$route.query.fromOrder?e.$router.push("/pay-fail?price="+(e.Coupons?"0":e.o.Price)+"&payType="+e.type+"&fromOrder="+e.$route.query.fromOrder):e.$router.push("/pay-fail?price="+(e.Coupons?"0":e.o.Price)+"&payType="+e.type))})}else e.$router.replace("/pay-success?price="+(e.Coupons?"0":e.o.Price)+"&payType="+e.type+"&fromOrder="+e.$route.query.fromOrder)})},getPayCoop:function(){var e=this,n=this.info.Id;this.$route.query.fromOrder&&(n=this.info.RelationId),this.$post("/PlatFormAPI/ServicePackItem/BuyRemoteClinic",{PatientId:this.info.PatientId,PatientName:this.info.PatientName,RelationId:n,SpecialistHosGroupId:this.info.SpecialistHosGroupId,BuyWay:2,PayChannel:this.type,PayType:1,APPId:0,Application:0}).then(function(n){if(e.$store.dispatch("pushCoupons",null),n.Body||n.appid){e.$store.dispatch("pushCoupons",null);var t=a()(n);e.$bridge.callhandler("pay",t,function(n){"success"==n?e.$router.replace("/pay-success?price="+(e.Coupons?"0":e.o.Price)+"&payType="+e.type+"&fromOrder="+e.$route.query.fromOrder+"&pid="+e.info.PatientId+"&pname="+e.info.PatientName+"&fromCoop=1"):"fail"==n&&(e.$route.query.fromOrder?e.$router.push("/pay-fail?price="+(e.Coupons?"0":e.o.Price)+"&payType="+e.type+"&fromOrder="+e.$route.query.fromOrder+"&pid="+e.info.PatientId+"&pname="+e.info.PatientName+"&fromCoop=1"):e.$router.push("/pay-fail?price="+(e.Coupons?"0":e.o.Price)+"&payType="+e.type+"&fromOrder="+e.$route.query.fromOrder+"&fromCoop=1"))})}else e.$router.replace("/pay-success?price="+(e.Coupons?"0":e.o.Price)+"&payType="+e.type+"&fromCoop=1&fromOrder="+e.$route.query.fromOrder)}).catch(function(n){e.$toast(n.Message),e.$router.replace("/pay-fail?price="+(e.Coupons?"0":e.o.Price)+"&payType="+e.type+"&fromCoop=1&fromOrder="+e.$route.query.fromOrder)})}}}),p=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"pdt"},[t("div",{staticClass:"title tran"},[t("back"),e._v(" "),t("span",{staticClass:"name"},[e._v("订单支付")]),e._v(" "),t("a")],1),e._v(" "),t("p",{staticClass:"line"},[e._m(0),e._v(" "),e.o?t("span",{staticClass:"orange"},[e._v("￥"+e._s(e.o.Price))]):e._e()]),e._v(" "),t("p",{staticClass:"line",on:{click:e.getCoupons}},[e._m(1),e._v(" "),e.o?t("span",{staticClass:"gray"},[e.Coupons?t("span",[e._v(e._s(e.Coupons.CouponName)+"券")]):t("span",[e._v(e._s(e.o.CouponCount||0)+"张可用")]),e._v(" "),t("i",{staticClass:"icon2"})]):e._e()]),e._v(" "),t("div",{staticClass:"payType"},[t("p",[e._v("请选择支付方式：")]),e._v(" "),e._l(e.payType,function(n,i){return t("p",{key:i},[t("span",[1==n.val?t("i"):e._e(),e._v(" "),2==n.val?t("i",{staticClass:"ali"}):e._e(),e._v("\n                "+e._s(n.name)+"\n            ")]),e._v(" "),t("label",{class:{on:e.type==n.val}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],attrs:{type:"radio"},domProps:{value:n.val,checked:e._q(e.type,n.val)},on:{change:function(t){e.type=n.val}}})])])})],2),e._v(" "),t("div",{staticClass:"bottom"},[t("p",[e._v("\n            应付金额："),!e.Coupons&&e.o?t("span",[e._v("￥"+e._s(e.o.Price))]):t("span",[e._v("￥0")])]),e._v(" "),e.$route.query.fromCoop?t("span",{staticClass:"btn fr",on:{click:function(n){return e.getPayCoop()}}},[e._v("立即支付")]):t("span",{staticClass:"btn",on:{click:e.pay}},[e._v("立即支付")])])])},c=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("span",[t("i",{staticClass:"icon3"}),e._v("费用\n        ")])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("span",[t("i",{staticClass:"icon1"}),e._v("兑换券\n        ")])}],d={render:p,staticRenderFns:c},l=d,u=t("C7Lr"),y=i,f=u(s,l,!1,y,"data-v-518e6607",null);n.default=f.exports},"jU+A":function(e,n,t){var i=t("L4zZ");n=e.exports=t("UTlt")(!1),n.push([e.i,"\n.line[data-v-518e6607] {\n  background: #fff;\n  height: 1.17333rem;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n  border-bottom: 1px solid #ececec;\n  padding: 0 0.4rem;\n}\n.line span[data-v-518e6607] {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n}\n.line span[data-v-518e6607]:first-child {\n      font-weight: bold;\n}\n.line .orange[data-v-518e6607] {\n    color: #fda222;\n}\n.line .gray[data-v-518e6607] {\n    color: #999;\n}\n.line .icon2[data-v-518e6607] {\n    background: url("+i(t("i9Xb"))+") no-repeat center;\n    background-size: contain;\n}\n.line i[data-v-518e6607] {\n    display: block;\n    width: 0.4rem;\n    height: 0.4rem;\n}\n.line .icon3[data-v-518e6607] {\n    background: url("+i(t("5iH3"))+") no-repeat center;\n    background-size: contain;\n    margin-right: 0.13333rem;\n}\n.line .icon1[data-v-518e6607] {\n    background: url("+i(t("gpLk"))+") no-repeat center;\n    background-size: contain;\n    margin-right: 0.13333rem;\n}\n.payType[data-v-518e6607] {\n  margin-top: 0.26667rem;\n  background: #fff;\n  font-weight: bold;\n  padding: 0.4rem;\n}\n.payType p[data-v-518e6607] {\n    padding: 0.26667rem 0;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n            justify-content: space-between;\n}\n.payType p span[data-v-518e6607] {\n      display: -webkit-box;\n      display: -webkit-flex;\n      display: flex;\n}\n.payType label[data-v-518e6607] {\n    display: block;\n    width: 0.6rem;\n    height: 0.6rem;\n    border: 1px solid #ccc;\n    border-radius: 50%;\n}\n.payType label input[data-v-518e6607] {\n      display: none;\n}\n.payType i[data-v-518e6607] {\n    display: block;\n    width: 0.53333rem;\n    height: 0.53333rem;\n    background: url("+i(t("y9Xv"))+") no-repeat center;\n    background-size: contain;\n    margin-right: 0.2rem;\n}\n.payType .ali[data-v-518e6607] {\n    background: url("+i(t("+yA6"))+") no-repeat center;\n    background-size: contain;\n}\n.payType .on[data-v-518e6607] {\n    background: url("+i(t("0IBK"))+") no-repeat center;\n    background-size: contain;\n    border: 0;\n}\n.bottom[data-v-518e6607] {\n  height: 1.33333rem;\n  background: #fff;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n  padding-left: 0.4rem;\n}\n.bottom span[data-v-518e6607] {\n    color: #fda222;\n}\n.bottom .btn[data-v-518e6607] {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    height: 100%;\n    width: 3.2rem;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n            justify-content: center;\n    background: #ffa417;\n    color: #fff;\n}\n",""])},sgeh:function(e,n,t){var i=t("jU+A");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t("FIqI")("e87bef82",i,!0,{})}});