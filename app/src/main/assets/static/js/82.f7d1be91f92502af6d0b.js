webpackJsonp([82],{Bj7R:function(n,e,t){"use strict";function a(n){t("jMKj")}Object.defineProperty(e,"__esModule",{value:!0});var i=t("3cXf"),r=t.n(i),o=t("pKZN"),d=t("JpXR"),c=t.n(d),s=(o.a,{components:{back:o.a},data:function(){return{yyText:"",grms:"",nowTarget:null,PatientMedicals:null,show:null,unable:!1}},created:function(){this.pull()},methods:{pull:function(){var n=this;this.$route.query.supplement?this.$get("/SecondDiagnosisAPI/Medical/QueryNeedMedical",{MedicalRecordId:this.$route.query.mid}).then(function(e){if(!e)return n.$toast("第二诊疗意见服务已结束，不能再补充资料了！"),void setTimeout(function(){n.$bridge.callhandler("Back")},1500);e.PatientMedicals.forEach(function(n){n.pastImage=n.ImagePahts,n.ImagePahts=[]}),n.PatientMedicals=e,n.grms=e.PersonalDesc}):this.$get("/SecondDiagnosisAPI/Medical/QueryPerfectMedical",{MedicalRecordId:this.$route.query.mid}).then(function(e){if(!e)return n.$toast("第二诊疗意见服务已结束，不能再补充资料了！"),void setTimeout(function(){n.$bridge.callhandler("Back")},1500);e.PatientMedicals.forEach(function(n){n.pastImage=n.ImagePahts,n.ImagePahts=[]}),n.PatientMedicals=e,n.grms=e.PersonalDesc})},toBack:function(){this.show=!1,this.$bridge.callhandler("Back")},toPreview:function(n,e,t){if("past"==t){var a=[];n.forEach(function(n){a.push(n.ImagePath)});var i={position:e,url:a};this.$bridge.callhandler("Preview",r()(i))}else{var o=[];n.forEach(function(n){o.push(n.DisplayPath)});var d={position:e,url:o};this.$bridge.callhandler("Preview",r()(d))}},getImg:function(n){this.nowTarget=n},update:function(n){var e=this,t=n.target.files[0];t&&(c()(t).then(function(n){var a=new FileReader;a.readAsDataURL(t);var i=e;a.onload=function(n){i.er=this.result.split("base64,")[1],i.$post("SecondDiagnosisAPI/Medical/MedicalImageUpload",{Base64Str:this.result.split("base64,")[1]}).then(function(n){i.PatientMedicals.PatientMedicals[i.nowTarget].ImagePahts.push(n)})}}),n.target.value=null)},send:function(){var n=this;this.unable=!1;var e=[],t=[];if(this.PatientMedicals.PatientMedicals.forEach(function(t,a){n.$route.query.supplement&&(t.ImagePahts.length||(n.unable=!0)),e.push({MedicalId:t.MedicalId,Remark:t.Remark,ImagePaths:[]}),t.ImagePahts.forEach(function(n){e[a].ImagePaths.push(n.SavePath)})}),e.forEach(function(n){n.ImagePaths.length&&t.push(n)}),this.unable)return this.$toast("请上传所有病历资料");this.$post("SecondDiagnosisAPI/Medical/SaveMedical",{MedicalRecordId:this.$route.query.mid,PersonalDesc:this.grms,MedicalPaths:t}).then(function(e){n.show=!0})},pop:function(n,e){this.PatientMedicals.PatientMedicals[n].ImagePahts.splice(e,1)}}}),l=function(){var n=this,e=n.$createElement,t=n._self._c||e;return n.PatientMedicals?t("div",{staticClass:"container pdt"},[t("div",{staticClass:"title"},[t("back"),n._v(" "),t("span",{staticClass:"name"},[n._v("上传病历")]),n._v(" "),t("a")],1),n._v(" "),t("p",{staticClass:"tipText"},[n._v("以下资料为医生给出报告需要的资料，请务必认真上传。有疑问可以咨询客服哦！")]),n._v(" "),t("div",{staticClass:"update bgt"},[n._l(n.PatientMedicals.PatientMedicals,function(e,a){return t("div",{key:a,staticClass:"Image secImage"},[t("p",{staticClass:"sec_tit"},[t("span",[e.IsMust?t("a",[n._v("*")]):n._e(),n._v(n._s(e.MedicalName))]),n._v(" "),t("span",[n._v(n._s(e.MedicalDesc))])]),n._v(" "),t("div",{staticClass:"add"},[n._l(e.pastImage,function(a,i){return t("p",{key:i},[t("img",{attrs:{src:a.ThumbnailImagePath},on:{click:function(t){return n.toPreview(e.pastImage,i,"past")}}})])}),n._v(" "),n._l(e.ImagePahts,function(i,r){return t("p",{key:r},[t("img",{attrs:{src:n._f("toThumb")(i.DisplayPath)},on:{click:function(t){return n.toPreview(e.ImagePahts,r,"now")}}}),n._v(" "),t("i",{staticClass:"pop",on:{click:function(e){return n.pop(a,r)}}})])}),n._v(" "),t("label",{staticClass:"icon",attrs:{for:"file"},on:{click:function(e){return n.getImg(a)}}})],2),n._v(" "),e.IsRemark?t("p",{staticClass:"yyText"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.Remark,expression:"i.Remark"}],attrs:{placeholder:"备注",maxlength:"500"},domProps:{value:e.Remark},on:{input:function(t){t.target.composing||n.$set(e,"Remark",t.target.value)}}})]):n._e()])}),n._v(" "),t("div",{staticClass:"Image secImage"},[n._m(0),n._v(" "),t("p",{staticClass:"yyText"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:n.grms,expression:"grms"}],attrs:{maxlength:"500"},domProps:{value:n.grms},on:{input:function(e){e.target.composing||(n.grms=e.target.value)}}})])])],2),n._v(" "),t("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"file",type:"file",accept:"image/*;capture=camera",multipl:"",runat:"server"},on:{change:n.update}}),n._v(" "),t("button",{on:{click:n.send}},[n._v("提交")]),n._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:n.show,expression:"show"}],staticClass:"confirm-box"},[t("div",{staticClass:"con-box"},[n._m(1),n._v(" "),t("div",{staticClass:"con-c"},[n._v("\n\t\t\t\t\t您已成功提交医生需要的病情资料，医生会在3-5个工作日内回答您的问题，请耐心等待。\n\t\t\t\t")]),n._v(" "),t("div",{staticClass:"btn",on:{click:n.toBack}},[n._v("我知道了")])])])]):t("div",[t("div",{staticClass:"title"},[t("back"),n._v(" "),t("span",{staticClass:"name"},[n._v("上传病历")]),n._v(" "),t("a")],1)])},f=[function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("p",{staticClass:"sec_tit"},[t("span",[n._v("个人描述")]),n._v(" "),t("span",[n._v("既往病史、家族病史、生活环境及习惯等情况描述")])])},function(){var n=this,e=n.$createElement,a=n._self._c||e;return a("div",{staticClass:"con-t"},[a("img",{attrs:{src:t("gH4D")}}),n._v(" "),a("p",[n._v("您已提交资料及问题")])])}],m={render:l,staticRenderFns:f},p=m,b=t("C7Lr"),g=a,u=b(s,p,!1,g,"data-v-726f7004",null);e.default=u.exports},dne8:function(n,e,t){var a=t("L4zZ");e=n.exports=t("UTlt")(!1),e.push([n.i,"\n.vux-datetime-value[data-v-726f7004]:after,\n.vux-datetime-value[data-v-726f7004]::after {\n  width: 0 !important;\n  height: 0 !important;\n  border: none !important;\n}\n.vux-cell-value[data-v-726f7004] {\n  color: #000;\n}\n.vux-datetime[data-v-726f7004] {\n  padding-right: 0.14rem !important;\n  width: 100%;\n  text-align: right;\n}\n.vux-datetime *[data-v-726f7004] {\n    width: 100%;\n}\n.vux-cell-placeholder[data-v-726f7004],\n.vux-cell-value[data-v-726f7004] {\n  width: 100%;\n  display: block;\n  text-align: right;\n}\n.pat[data-v-726f7004] {\n  height: 1.17333rem;\n  background: #fff;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n  padding: 0 0.4rem;\n  border-top: 1px solid #ececec;\n}\n.pat span[data-v-726f7004] {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n}\n.pat i[data-v-726f7004] {\n    display: block;\n    width: 0.4rem;\n    height: 0.4rem;\n    margin-left: 0.13333rem;\n    background: url("+a(t("i9Xb"))+") no-repeat center;\n    background-size: contain;\n}\n.pat .patIcon[data-v-726f7004] {\n    width: 0.8rem;\n    height: 0.8rem;\n    margin-right: 0.13333rem;\n    background: url("+a(t("VqpO"))+") no-repeat center;\n    background-size: contain;\n}\n.health[data-v-726f7004] {\n  background: url("+a(t("QHRs"))+") no-repeat center;\n  background-size: contain;\n  height: 2.66667rem;\n  padding: 0.4rem;\n  margin: 0.4rem;\n  border-radius: 10px;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  color: #fff;\n}\n.health div[data-v-726f7004] {\n    -webkit-box-flex: 1;\n    -webkit-flex: 1;\n            flex: 1;\n    height: 100%;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: column;\n            flex-direction: column;\n}\n.health div p[data-v-726f7004] {\n      font-size: 16px;\n      display: -webkit-box;\n      display: -webkit-flex;\n      display: flex;\n      -webkit-box-align: center;\n      -webkit-align-items: center;\n              align-items: center;\n      -webkit-box-pack: end;\n      -webkit-justify-content: flex-end;\n              justify-content: flex-end;\n}\n.health div .cont[data-v-726f7004] {\n      -webkit-box-flex: 1;\n      -webkit-flex: 1;\n              flex: 1;\n      font-size: 12px;\n}\n.health div .gof[data-v-726f7004] {\n      font-size: 12px;\n}\n.health .arrow[data-v-726f7004] {\n    display: block;\n    width: 0.4rem;\n    height: 0.4rem;\n    margin-left: 0.13333rem;\n    background: url("+a(t("i9Xb"))+") no-repeat center;\n    background-size: contain;\n}\n.pb[data-v-726f7004] {\n  padding-bottom: 1.06667rem;\n}\n.btn[data-v-726f7004] {\n  width: 80%;\n  height: 1.06667rem;\n  text-align: center;\n  line-height: 1.06667rem;\n  border-radius: 30px;\n  background: #306bce;\n  color: #fff;\n  margin: 0.93333rem auto 0;\n}\nbutton[data-v-726f7004] {\n  background: #306bce;\n  color: #fff;\n  height: 1.06667rem;\n  width: 80%;\n  display: block;\n  margin: 1.06667rem auto;\n  border-radius: 30px;\n}\n.choose[data-v-726f7004] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n}\n.choose i[data-v-726f7004] {\n    display: block;\n    height: 0.46667rem;\n    width: 0.26667rem;\n    background: url("+a(t("i9Xb"))+") no-repeat center;\n    background-size: cover;\n    margin-left: 0.13333rem;\n}\n.patient[data-v-726f7004],\n.patient2[data-v-726f7004] {\n  margin-top: 0.13333rem;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  height: 1.2rem;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  padding: 0 0.4rem;\n  background: #fff;\n  margin-bottom: 0.13333rem;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n}\n.patient2[data-v-726f7004] {\n  margin-top: 0;\n}\n.patient2 input[data-v-726f7004] {\n    width: 50%;\n    height: 100%;\n    text-align: right;\n}\n.patient2 select[data-v-726f7004] {\n    background: transparent;\n    border-color: transparent;\n    -webkit-box-flex: 1;\n    -webkit-flex: 1;\n            flex: 1;\n    height: 100%;\n    direction: rtl;\n    width: 100%;\n}\n.patient2 > span[data-v-726f7004] {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n}\n.patient2 > span[data-v-726f7004]:last-child {\n      -webkit-box-flex: 1;\n      -webkit-flex: 1;\n              flex: 1;\n      height: 100%;\n      -webkit-box-pack: end;\n      -webkit-justify-content: flex-end;\n              justify-content: flex-end;\n}\n.patient2 .plhd[data-v-726f7004] {\n    color: #A9A9A9;\n}\n.patient2 i[data-v-726f7004] {\n    display: block;\n    height: 0.46667rem;\n    width: 0.26667rem;\n    background: url("+a(t("i9Xb"))+") no-repeat center;\n    background-size: cover;\n}\n.item[data-v-726f7004] {\n  padding: 0.2rem 0.4rem 0 0.4rem;\n}\n.item .date[data-v-726f7004] {\n    padding: 0.13333rem 0;\n    font-size: 12px;\n    margin-bottom: 0.13333rem;\n    color: #666;\n    text-align: center;\n}\n.item .card[data-v-726f7004] {\n    padding: 0.26667rem 0.53333rem;\n    border-radius: 20px;\n}\n.item .card p[data-v-726f7004] {\n      display: -webkit-box;\n      display: -webkit-flex;\n      display: flex;\n      -webkit-box-pack: justify;\n      -webkit-justify-content: space-between;\n              justify-content: space-between;\n}\n.item .card p[data-v-726f7004]:first-child {\n        margin-bottom: 0.26667rem;\n        border-bottom: 1px solid #ececec;\n        padding-bottom: 0.26667rem;\n}\n.item .card .text[data-v-726f7004] {\n      -webkit-box-orient: vertical;\n      -webkit-box-direction: normal;\n      -webkit-flex-direction: column;\n              flex-direction: column;\n      line-height: 2;\n}\n.item .card .text .gray[data-v-726f7004] {\n        color: #999;\n}\n.item .card .from[data-v-726f7004] {\n      border: 1px solid #fea514;\n      color: #fea514;\n      padding: 0.04rem 0.26667rem;\n      font-size: 12px;\n      border-radius: 20px;\n}\n.describe[data-v-726f7004] {\n  background: #fff;\n  padding-bottom: 0.26667rem;\n}\n.describe p[data-v-726f7004] {\n    padding: 0.26667rem 0.4rem;\n    border-bottom: 1px solid #ececec;\n}\n.describe textarea[data-v-726f7004] {\n    display: block;\n    width: 90%;\n    height: 2rem;\n    margin: 0.26667rem auto;\n    border-radius: 5px;\n    resize: none;\n    padding: 0.2rem;\n}\n.pt[data-v-726f7004] {\n  padding: 0.26667rem 0.4rem 0.13333rem;\n}\n.update[data-v-726f7004] {\n  margin-top: 0.13333rem;\n  background: #fff;\n}\n.update .tit[data-v-726f7004] {\n    padding: 0.26667rem 0.4rem;\n    border-bottom: 1px solid #ececec;\n}\n.card[data-v-726f7004] {\n  padding: 0.4rem;\n  background: #fff;\n}\n.gray[data-v-726f7004] {\n  color: #666;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n}\n.gray i[data-v-726f7004] {\n    display: block;\n    width: 0.4rem;\n    height: 0.4rem;\n    margin-right: 0.13333rem;\n}\n.gray .icon10[data-v-726f7004] {\n    background: url("+a(t("erLi"))+") no-repeat center;\n    background-size: contain;\n}\n.gray .icon11[data-v-726f7004] {\n    background: url("+a(t("SKnb"))+") no-repeat center;\n    background-size: contain;\n}\n.gray .icon12[data-v-726f7004] {\n    background: url("+a(t("Ozwk"))+") no-repeat center;\n    background-size: contain;\n}\n.bgt[data-v-726f7004] {\n  background: transparent;\n}\n.Image[data-v-726f7004] {\n  background: #fff;\n  margin-top: 0.13333rem;\n  padding: 0.13333rem 0.4rem;\n  border-bottom: 1px solid #ececec;\n}\n.Image .name[data-v-726f7004] {\n    padding: 0 0.26667rem;\n    font-size: 12px;\n}\n.Image .add[data-v-726f7004] {\n    padding-top: 0.13333rem;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-flex-wrap: wrap;\n            flex-wrap: wrap;\n}\n.Image .add img[data-v-726f7004] {\n      width: 2.4rem;\n      height: 2.4rem;\n      margin: 0.2rem;\n}\n.Image .add p[data-v-726f7004] {\n      position: relative;\n}\n.Image .add .pop[data-v-726f7004] {\n      display: block;\n      width: 0.66667rem;\n      height: 0.66667rem;\n      background: url("+a(t("QrTe"))+") no-repeat center;\n      background-size: contain;\n      background-color: #fff;\n      position: absolute;\n      top: -0.06667rem;\n      right: 0;\n      border-radius: 50%;\n}\n.Image .add .icon[data-v-726f7004] {\n      display: block;\n      width: 2.4rem;\n      height: 2.4rem;\n      border: 1px solid #ccc;\n      border-radius: 20px;\n      position: relative;\n      margin: 0.13333rem 0.2rem;\n}\n.Image .add .icon[data-v-726f7004]::before {\n        content: '';\n        display: block;\n        width: 50%;\n        height: 0.2rem;\n        border-radius: 0.13333rem;\n        background: #ccc;\n        position: absolute;\n        top: 1.06667rem;\n        left: 25%;\n}\n.Image .add .icon[data-v-726f7004]::after {\n        content: '';\n        display: block;\n        width: 0.2rem;\n        border-radius: 0.13333rem;\n        height: 50%;\n        background: #ccc;\n        position: absolute;\n        top: 25%;\n        left: 1.10667rem;\n}\n.secImage[data-v-726f7004] {\n  margin: 0 0 0.26667rem;\n}\n.tipText[data-v-726f7004] {\n  color: #fea514;\n  padding: 0.26667rem 0.4rem;\n  background: transparent;\n}\n.sec_tit[data-v-726f7004] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n          flex-direction: column;\n  border-bottom: 1px solid #ececec;\n  padding: 0.26667rem 0;\n}\n.sec_tit span[data-v-726f7004] {\n    color: #999;\n    font-size: 12px;\n}\n.sec_tit span[data-v-726f7004]:first-child {\n      font-size: 16px;\n      color: #333;\n}\n.sec_tit a[data-v-726f7004] {\n    color: red;\n    margin-right: 0.13333rem;\n}\n.yyText[data-v-726f7004] {\n  margin-top: 0.26667rem;\n}\n.yyText textarea[data-v-726f7004] {\n    resize: none;\n    width: 100%;\n    height: 2.66667rem;\n    border: 1px solid #ececec;\n    border-radius: 10px;\n    padding: 0.4rem;\n    font-size: 15px;\n}\n.secD[data-v-726f7004] {\n  background: #fff;\n  margin: 0.26667rem 0.4rem;\n  border-radius: 10px;\n  padding: 0.4rem;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n}\n.secD div[data-v-726f7004] {\n    -webkit-box-flex: 1;\n    -webkit-flex: 1;\n            flex: 1;\n}\n.secD p[data-v-726f7004] {\n    margin: 0.26667rem 0;\n    color: #999;\n}\n.secD .text[data-v-726f7004] {\n    font-size: 16px;\n    color: #333;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n}\n.secD .text span[data-v-726f7004]:first-child {\n      white-space: nowrap;\n}\n.secD i[data-v-726f7004] {\n    display: block;\n    min-height: 0.46667rem;\n    min-width: 0.26667rem;\n    background: url("+a(t("i9Xb"))+") no-repeat center;\n    background-size: cover;\n}\n.confirm-box[data-v-726f7004] {\n  position: fixed;\n  z-index: 1;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.3);\n}\n.confirm-box .con-box[data-v-726f7004] {\n    position: fixed;\n    z-index: 2;\n    width: 80%;\n    left: 10%;\n    top: 50%;\n    background: #fff;\n    border-radius: 6px;\n    height: 6.66667rem;\n    margin-top: -3.33333rem;\n}\n.confirm-box .con-box .con-t[data-v-726f7004] {\n      text-align: center;\n}\n.confirm-box .con-box .con-t > img[data-v-726f7004] {\n        width: 0.86667rem;\n        height: 0.98667rem;\n        margin-top: 0.53333rem;\n        margin-bottom: 0.37333rem;\n}\n.confirm-box .con-box .con-t > p[data-v-726f7004] {\n        font-size: 0.42667rem;\n        color: #333;\n}\n.confirm-box .con-box .con-c[data-v-726f7004] {\n      font-size: 0.32rem;\n      color: #666;\n      padding: 0.53333rem 0.34667rem 0.8rem 0.34667rem;\n}\n.confirm-box .con-box .btn[data-v-726f7004] {\n      width: 60%;\n      margin: 0 auto;\n      font-size: 0.42667rem;\n      color: #fff;\n      text-align: center;\n      height: 0.93333rem;\n      display: -webkit-box;\n      display: -webkit-flex;\n      display: flex;\n      -webkit-box-align: center;\n      -webkit-align-items: center;\n              align-items: center;\n      -webkit-box-pack: center;\n      -webkit-justify-content: center;\n              justify-content: center;\n      background: #3069CF;\n      border-radius: 6px;\n}\n.container[data-v-726f7004] {\n  font-size: 14px;\n}\n",""])},jMKj:function(n,e,t){var a=t("dne8");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t("FIqI")("795123eb",a,!0,{})}});